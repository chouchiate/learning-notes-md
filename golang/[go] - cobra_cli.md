## [go] - cobraCLI

### building blocks of cobra
* Commands - represent actions
* Args - are things
* Flags - are modifiers for those actions

### install for project
```bash
# create project
$ mkdir my-proj && cd my-proj
# go module init
$ go mod init my-proj
go: creating new go.mod: module my-proj

$ go get -u github.com/spf13/cobra@latest

# install for bash
$ go install github.com/spf13/cobra-cli@latest
# scaffolding
$ cobra-cli init
Your Cobra application is ready at
/Users/boju/Programming/go_projects/my_proj

# tree for my_proj
.
├── LICENSE
├── cmd
│   └── root.go
├── go.mod
├── go.sum
└── main.go

1 directory, 5 files
```

### program entry, generated by scaffolding
```go
package main

import "my-cli-test/cmd"

func main() {
	cmd.Execute()
}
```

### cobra-cli [command]
* add
* completion
* help
* init

### cobra-cli [flags]
* -a, --author string
* -h, --help, use "cobra-cli [command] --help for more information about a command
* -l, --license string

### scaffolding

```bash
$ cobra-cli init
## Your Cobra application is ready at
## /Users/jubo/Programming/go_projects/go_device_service_cli
```

### add commmand
```bash
$ cobra-cli add <command-name>
## output
## connect created at /Users/jubo/Programming/go_projects/go_device_service_cli
```

### completion
usage:
    cobra-cli completion [command]
available commands:
* bash - generate the autocompletion script for bash
* fish - generate the autocompletion script for fish
* powershell - generate the autocompletion script for powershell
* zsh - generate the autocompletion script for zsh

### Flags
* Persistent Flags: persistent 意思是說這個 flag 能任何命令下均可使用，適合全局 flag.
* Local Flags: Cobra 同樣支持局部標籤 (local flag)，並只在直接調用它時運行


### Cobra Concepts
Cobra is built on top of
* Commands - execute actions
* Args - execution parameters
* Flags - identifiers for these actions

basic execution commands example
```bash
$ APPNAME Command Args --Flags
# or
$ APPNAME Command --Flags Args
```

some well-known command line tools
```bash
$ git clone URL -bare
$ go get -u URL
$ npm install package -save
$ kubectl get pods -n kube-system -l app=cobra

```



### external
* [github](https://github.com/spf13/cobra#usage)